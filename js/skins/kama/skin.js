CKEDITOR.skins.add("kama",(function(){var d=[],c="cke_ui_color";if(CKEDITOR.env.ie&&CKEDITOR.env.version<7){d.push("icons.png","images/sprites_ie6.png","images/dialog_sides.gif")}return{preload:d,editor:{css:["editor.css"]},dialog:{css:["dialog.css"]},templates:{css:["templates.css"]},margins:[0,0,0,0],init:function(p){if(p.config.width&&!isNaN(p.config.width)){p.config.width-=12}var o=[],n=/\$color/g,m="/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}";if(CKEDITOR.env.webkit){m=m.split("}").slice(0,-1);for(var l=0;l<m.length;l++){m[l]=m[l].split("{")}}function k(f){var e=f.getById(c);if(!e){e=f.getHead().append("style");e.setAttribute("id",c);e.setAttribute("type","text/css")}return e}function b(g,f,e){var r,j,i;for(var h=0;h<g.length;h++){if(CKEDITOR.env.webkit){for(j=0;j<f.length;j++){i=f[j][1];for(r=0;r<e.length;r++){i=i.replace(e[r][0],e[r][1])}g[h].$.sheet.addRule(f[j][0],i)}}else{i=f;for(r=0;r<e.length;r++){i=i.replace(e[r][0],e[r][1])}if(CKEDITOR.env.ie){g[h].$.styleSheet.cssText+=i}else{g[h].$.innerHTML+=i}}}}var a=/\$color/g;CKEDITOR.tools.extend(p,{uiColor:null,getUiColor:function(){return this.uiColor},setUiColor:function(g){var f,e=k(CKEDITOR.document),j=".cke_editor_"+CKEDITOR.tools.escapeCssSelector(p.name),i=[j+" .cke_wrapper",j+"_dialog .cke_dialog_contents",j+"_dialog a.cke_dialog_tab",j+"_dialog .cke_dialog_footer"].join(","),h="background-color: $color !important;";if(CKEDITOR.env.webkit){f=[[i,h]]}else{f=i+"{"+h+"}"}return(this.setUiColor=function(t){var s=[[a,t]];p.uiColor=t;b([e],f,s);b(o,m,s)})(g)}});p.on("menuShow",function(g){var f=g.data[0],e=f.element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!e.getById("cke_ui_color")){var i=k(e);o.push(i);var h=p.getUiColor();if(h){b([i],m,[[a,h]])}}});if(p.config.uiColor){p.setUiColor(p.config.uiColor)}}}})());(function(){CKEDITOR.dialog?b():CKEDITOR.on("dialogPluginReady",b);function b(){CKEDITOR.dialog.on("resize",function(a){var l=a.data,k=l.width,j=l.height,i=l.dialog,h=i.parts.contents;if(l.skin!="kama"){return}h.setStyles({width:k+"px",height:j+"px"});setTimeout(function(){var e=i.parts.dialog.getChild([0,0,0]),d=e.getChild(0),c=e.getChild(2);c.setStyle("width",d.$.offsetWidth+"px");c=e.getChild(7);c.setStyle("width",d.$.offsetWidth-28+"px");c=e.getChild(4);c.setStyle("height",d.$.offsetHeight-31-14+"px");c=e.getChild(5);c.setStyle("height",d.$.offsetHeight-31-14+"px")},100)})}})();