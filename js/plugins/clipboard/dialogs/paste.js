CKEDITOR.dialog.add("paste",function(f){var e=f.lang.clipboard,h=CKEDITOR.env.isCustomDomain();function g(c){var b=new CKEDITOR.dom.document(c.document),a=b.$;b.getById("cke_actscrpt").remove();CKEDITOR.env.ie?a.body.contentEditable="true":a.designMode="on";if(CKEDITOR.env.ie&&CKEDITOR.env.version<8){b.getWindow().on("blur",function(){a.selection.empty()})}b.on("keydown",function(n){var m=n.data,l=m.getKeystroke(),d;switch(l){case 27:this.hide();d=1;break;case 9:case CKEDITOR.SHIFT+9:this.changeFocus(true);d=1}d&&m.preventDefault()},this);f.fire("ariaWidget",new CKEDITOR.dom.element(c.frameElement))}return{title:e.title,minWidth:CKEDITOR.env.ie&&CKEDITOR.env.quirks?370:350,minHeight:CKEDITOR.env.quirks?250:245,onShow:function(){this.parts.dialog.$.offsetHeight;var j='<html dir="'+f.config.contentsLangDirection+'" lang="'+(f.config.contentsLanguage||f.langCode)+'"><head><style>body { margin: 3px; height: 95%; } </style></head><body><script id="cke_actscrpt" type="text/javascript">window.parent.CKEDITOR.tools.callFunction( '+CKEDITOR.tools.addFunction(g,this)+", this );<\/script></body></html>",d=CKEDITOR.dom.element.createFromHtml('<iframe class="cke_pasteframe" frameborder="0"  allowTransparency="true"'+(h?" src=\"javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())\"":"")+' role="region" aria-label="'+e.pasteArea+'" aria-describedby="'+this.getContentElement("general","pasteMsg").domId+'" aria-multiple="true"></iframe>');d.on("load",function(l){l.removeListener();var i=d.getFrameDocument().$;i.open();if(h){i.domain=document.domain}i.write(j);i.close()},this);d.setCustomData("dialog",this);var c=this.getContentElement("general","editing_area"),b=c.getElement();b.setHtml("");b.append(d);if(CKEDITOR.env.ie){var a=CKEDITOR.dom.element.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>');a.on("focus",function(){d.$.contentWindow.focus()});b.append(a);c.focus=function(){a.focus();this.fire("focus")}}c.getInputElement=function(){return d};if(CKEDITOR.env.ie){b.setStyle("display","block");b.setStyle("height",d.$.offsetHeight+2+"px")}},onHide:function(){if(CKEDITOR.env.ie){this.getParentEditor().document.getBody().$.contentEditable="true"}},onLoad:function(){if((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&f.lang.dir=="rtl"){this.parts.contents.setStyle("overflow","hidden")}},onOk:function(){var d=this.getContentElement("general","editing_area").getElement(),c=d.getElementsByTag("iframe").getItem(0),b=this.getParentEditor(),a=c.$.contentWindow.document.body.innerHTML;setTimeout(function(){b.fire("paste",{html:a})},0)},contents:[{id:"general",label:f.lang.common.generalTab,elements:[{type:"html",id:"securityMsg",html:'<div style="white-space:normal;width:340px;">'+e.securityMsg+"</div>"},{type:"html",id:"pasteMsg",html:'<div style="white-space:normal;width:340px;">'+e.pasteMsg+"</div>"},{type:"html",id:"editing_area",style:"width: 100%; height: 100%;",html:"",focus:function(){var a=this.getInputElement().$.contentWindow;setTimeout(function(){a.focus()},500)}}]}]}});