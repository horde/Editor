CKEDITOR.dialog.add("button",function(b){return{title:b.lang.button.title,minWidth:350,minHeight:150,onShow:function(){var e=this;delete e.button;var a=e.getParentEditor().getSelection().getSelectedElement();if(a&&a.getName()=="input"){var f=a.getAttribute("type");if(f=="button"||f=="reset"||f=="submit"){e.button=a;e.setupContent(a)}}},onOk:function(){var a,f=this.button,e=!f;if(e){a=this.getParentEditor();f=a.document.createElement("input")}if(e){a.insertElement(f)}this.commitContent({element:f})},contents:[{id:"info",label:b.lang.button.title,title:b.lang.button.title,elements:[{id:"_cke_saved_name",type:"text",label:b.lang.common.name,"default":"",setup:function(a){this.setValue(a.getAttribute("_cke_saved_name")||a.getAttribute("name")||"")},commit:function(a){var d=a.element;if(this.getValue()){d.setAttribute("_cke_saved_name",this.getValue())}else{d.removeAttribute("_cke_saved_name");d.removeAttribute("name")}}},{id:"value",type:"text",label:b.lang.button.text,accessKey:"V","default":"",setup:function(a){this.setValue(a.getAttribute("value")||"")},commit:function(a){var d=a.element;if(this.getValue()){d.setAttribute("value",this.getValue())}else{d.removeAttribute("value")}}},{id:"type",type:"select",label:b.lang.button.type,"default":"button",accessKey:"T",items:[[b.lang.button.typeBtn,"button"],[b.lang.button.typeSbm,"submit"],[b.lang.button.typeRst,"reset"]],setup:function(a){this.setValue(a.getAttribute("type")||"")},commit:function(a){var j=a.element;if(CKEDITOR.env.ie){var i=j.getAttribute("type"),h=this.getValue();if(h!=i){var g=CKEDITOR.dom.element.createFromHtml('<input type="'+h+'"></input>',b.document);j.copyAttributes(g,{type:1});g.replace(j);b.getSelection().selectElement(g);a.element=g}}else{j.setAttribute("type",this.getValue())}}}]}]}});