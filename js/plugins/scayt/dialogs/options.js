CKEDITOR.dialog.add("scaytcheck",function(T){var S=true,R,Q=CKEDITOR.document,P=[],O,N=[],M=false,L=["dic_create,dic_restore","dic_rename,dic_delete"],K=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"];function J(){return document.forms.optionsbar.options}function I(){return document.forms.languagesbar.scayt_lang}function H(b,d){if(!b){return}var c=b.length;if(c==undefined){b.checked=b.value==d.toString();return}for(var a=0;a<c;a++){b[a].checked=false;if(b[a].value==d.toString()){b[a].checked=true}}}var G=[{id:"options",label:T.lang.scayt.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar"><div class="inner_options">\t<div class="messagebox"></div>\t<div style="display:none;">\t\t<input type="checkbox" name="options"  id="allCaps" />\t\t<label for="allCaps" id="label_allCaps"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="ignoreDomainNames" />\t\t<label for="ignoreDomainNames" id="label_ignoreDomainNames"></label>\t</div>\t<div style="display:none;">\t<input name="options" type="checkbox"  id="mixedCase" />\t\t<label for="mixedCase" id="label_mixedCase"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="mixedWithDigits" />\t\t<label for="mixedWithDigits" id="label_mixedWithDigits"></label>\t</div></div></form>'}]},{id:"langs",label:T.lang.scayt.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar"><div class="inner_langs">\t<div class="messagebox"></div>\t   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol" ></div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol"></div></div></form>'}]},{id:"dictionaries",label:T.lang.scayt.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">\t<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message"> </div>\t<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name" type="text" class="cke_dialog_ui_input_text"/>\t\t</div></span></div>\t\t<div style="margin:5px auto; width:80%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore">\t\t\t\t</a>\t\t</div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info"></div></div></form>'}]},{id:"about",label:T.lang.scayt.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about"></div>'}]}],F={title:T.lang.scayt.title,minWidth:360,minHeight:220,onShow:function(){var a=this;a.data=T.fire("scaytDialog",{});a.options=a.data.scayt_control.option();a.sLang=a.data.scayt_control.sLang;if(!a.data||!a.data.scayt||!a.data.scayt_control){alert("Error loading application service");a.hide();return}var b=0;if(S){a.data.scayt.getCaption(T.langCode||"en",function(c){if(b++>0){return}R=c;D.apply(a);C.apply(a);S=false})}else{C.apply(a)}a.selectPage(a.data.tab)},onOk:function(){var a=this.data.scayt_control;a.option(this.options);var b=this.chosed_lang;a.setLang(b);a.refresh()},onCancel:function(){var a=J();for(O in a){a[O].checked=false}H(I(),"")},contents:N},E=CKEDITOR.plugins.scayt.getScayt(T);P=CKEDITOR.plugins.scayt.uiTabs;for(O in P){if(P[O]==1){N[N.length]=G[O]}}if(P[2]==1){M=true}var D=function(){var l=this,j=l.data.scayt.getLangList(),h=["dic_create","dic_delete","dic_rename","dic_restore"],t=K,s;if(M){for(s=0;s<h.length;s++){var r=h[s];Q.getById(r).setHtml('<span class="cke_dialog_ui_button">'+R["button_"+r]+"</span>")}Q.getById("dic_info").setHtml(R.dic_info)}if(P[0]==1){for(s in t){var q="label_"+t[s],p=Q.getById(q);if("undefined"!=typeof p&&"undefined"!=typeof R[q]&&"undefined"!=typeof l.options[t[s]]){p.setHtml(R[q]);var o=p.getParent();o.$.style.display="block"}}}var n='<p><img src="'+window.scayt.getAboutInfo().logoURL+'" /></p><p>'+R.version+window.scayt.getAboutInfo().version.toString()+"</p><p>"+R.about_throwt_copy+"</p>";Q.getById("scayt_about").setHtml(n);var m=function(X,W){var w=Q.createElement("label");w.setAttribute("for","cke_option"+X);w.setHtml(W[X]);if(l.sLang==X){l.chosed_lang=X}var v=Q.createElement("div"),u=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+X+'" type="radio" '+(l.sLang==X?'checked="checked"':"")+' value="'+X+'" name="scayt_lang" />');u.on("click",function(){this.$.checked=true;l.chosed_lang=X});v.append(u);v.append(w);return{lang:W[X],code:X,radio:v}},k=[];if(P[1]==1){for(s in j.rtl){k[k.length]=m(s,j.ltr)}for(s in j.ltr){k[k.length]=m(s,j.ltr)}k.sort(function(v,u){return u.lang>v.lang?-1:1});var i=Q.getById("scayt_lcol"),g=Q.getById("scayt_rcol");for(s=0;s<k.length;s++){var f=s<k.length/2?i:g;f.append(k[s].radio)}}var e={};e.dic_create=function(Z,Y,X){var w=X[0]+","+X[1],v=R.err_dic_create,u=R.succ_dic_create;window.scayt.createUserDictionary(Y,function(U){y(w);z(X[1]);u=u.replace("%s",U.dname);A(u)},function(U){v=v.replace("%s",U.dname);B(v+"( "+(U.message||"")+")")})};e.dic_rename=function(V,w){var v=R.err_dic_rename||"",u=R.succ_dic_rename||"";window.scayt.renameUserDictionary(w,function(U){u=u.replace("%s",U.dname);x(w);A(u)},function(U){v=v.replace("%s",U.dname);x(w);B(v+"( "+(U.message||"")+" )")})};e.dic_delete=function(Z,Y,X){var w=X[0]+","+X[1],v=R.err_dic_delete,u=R.succ_dic_delete;window.scayt.deleteUserDictionary(function(U){u=u.replace("%s",U.dname);y(w);z(X[0]);x("");A(u)},function(U){v=v.replace("%s",U.dname);B(v)})};e.dic_restore=l.dic_restore||(function(Z,Y,X){var w=X[0]+","+X[1],v=R.err_dic_restore,u=R.succ_dic_restore;window.scayt.restoreUserDictionary(Y,function(U){u=u.replace("%s",U.dname);y(w);z(X[1]);A(u)},function(U){v=v.replace("%s",U.dname);B(v)})});function d(X){var W=Q.getById("dic_name").getValue();if(!W){B(" Dictionary name should not be empty. ");return false}try{var w=id=X.data.getTarget().getParent(),v=w.getId();e[v].apply(null,[w,W,L])}catch(u){B(" Dictionary error. ")}return true}var c=(L[0]+","+L[1]).split(","),b;for(s=0,b=c.length;s<b;s+=1){var a=Q.getById(c[s]);if(a){a.on("click",d,this)}}},C=function(){var b=this;if(P[0]==1){var g=J();for(var e=0,a=g.length;e<a;e++){var f=g[e].id,d=Q.getById(f);if(d){g[e].checked=false;if(b.options[f]==1){g[e].checked=true}if(S){d.on("click",function(){b.options[this.getId()]=this.$.checked?1:0})}}}}if(P[1]==1){var c=Q.getById("cke_option"+b.sLang);H(c.$,b.sLang)}if(M){window.scayt.getNameUserDictionary(function(i){var h=i.dname;y(L[0]+","+L[1]);if(h){Q.getById("dic_name").setValue(h);z(L[1])}else{z(L[0])}},function(){Q.getById("dic_name").setValue("")});A("")}};function B(a){Q.getById("dic_message").setHtml('<span style="color:red;">'+a+"</span>")}function A(a){Q.getById("dic_message").setHtml('<span style="color:blue;">'+a+"</span>")}function z(b){b=String(b);var d=b.split(",");for(var c=0,a=d.length;c<a;c+=1){Q.getById(d[c]).$.style.display="inline"}}function y(b){b=String(b);var d=b.split(",");for(var c=0,a=d.length;c<a;c+=1){Q.getById(d[c]).$.style.display="none"}}function x(a){Q.getById("dic_name").$.value=a}return F});