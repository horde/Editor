CKEDITOR.dialog.add("scaytcheck",function(V){var U=true,T,S=CKEDITOR.document,R=[],Q,P=[],O=0,N=["dic_create,dic_restore","dic_rename,dic_delete"],M=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"];function L(){return document.forms.optionsbar.options}function K(){return document.forms.languagesbar.scayt_lang}function J(d,b){if(!d){return}var a=d.length;if(a==undefined){d.checked=d.value==b.toString();return}for(var c=0;c<a;c++){d[c].checked=false;if(d[c].value==b.toString()){d[c].checked=true}}}var I=V.lang.scayt,H=[{id:"options",label:I.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar"><div class="inner_options">\t<div class="messagebox"></div>\t<div style="display:none;">\t\t<input type="checkbox" name="options"  id="allCaps" />\t\t<label for="allCaps" id="label_allCaps"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="ignoreDomainNames" />\t\t<label for="ignoreDomainNames" id="label_ignoreDomainNames"></label>\t</div>\t<div style="display:none;">\t<input name="options" type="checkbox"  id="mixedCase" />\t\t<label for="mixedCase" id="label_mixedCase"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="mixedWithDigits" />\t\t<label for="mixedWithDigits" id="label_mixedWithDigits"></label>\t</div></div></form>'}]},{id:"langs",label:I.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar"><div class="inner_langs">\t<div class="messagebox"></div>\t   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol" ></div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol"></div></div></form>'}]},{id:"dictionaries",label:I.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">\t<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message"> </div>\t<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name" type="text" class="cke_dialog_ui_input_text"/>\t\t</div></span></div>\t\t<div style="margin:5px auto; width:80%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore">\t\t\t\t</a>\t\t</div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info"></div></div></form>'}]},{id:"about",label:I.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about"></div>'}]}],G={title:I.title,minWidth:360,minHeight:220,onShow:function(){var b=this;b.data=V.fire("scaytDialog",{});b.options=b.data.scayt_control.option();b.sLang=b.data.scayt_control.sLang;if(!b.data||!b.data.scayt||!b.data.scayt_control){alert("Error loading application service");b.hide();return}var a=0;if(U){b.data.scayt.getCaption(V.langCode||"en",function(c){if(a++>0){return}T=c;E.apply(b);D.apply(b);U=false})}else{D.apply(b)}b.selectPage(b.data.tab)},onOk:function(){var b=this.data.scayt_control;b.option(this.options);var a=this.chosed_lang;b.setLang(a);b.refresh()},onCancel:function(){var b=L();for(var a in b){b[a].checked=false}J(K(),"")},contents:P},F=CKEDITOR.plugins.scayt.getScayt(V);R=CKEDITOR.plugins.scayt.uiTabs;for(var Q in R){if(R[Q]==1){P[P.length]=H[Q]}}if(R[2]==1){O=1}var E=function(){var k=this,i=k.data.scayt.getLangList(),t=["dic_create","dic_delete","dic_rename","dic_restore"],s=M,r;if(O){for(r=0;r<t.length;r++){var q=t[r];S.getById(q).setHtml('<span class="cke_dialog_ui_button">'+T["button_"+q]+"</span>")}S.getById("dic_info").setHtml(T.dic_info)}if(R[0]==1){for(r in s){var p="label_"+s[r],o=S.getById(p);if("undefined"!=typeof o&&"undefined"!=typeof T[p]&&"undefined"!=typeof k.options[s[r]]){o.setHtml(T[p]);var n=o.getParent();n.$.style.display="block"}}}var m='<p><img src="'+window.scayt.getAboutInfo().logoURL+'" /></p><p>'+T.version+window.scayt.getAboutInfo().version.toString()+"</p><p>"+T.about_throwt_copy+"</p>";S.getById("scayt_about").setHtml(m);var l=function(X,x){var w=S.createElement("label");w.setAttribute("for","cke_option"+X);w.setHtml(x[X]);if(k.sLang==X){k.chosed_lang=X}var v=S.createElement("div"),u=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+X+'" type="radio" '+(k.sLang==X?'checked="checked"':"")+' value="'+X+'" name="scayt_lang" />');u.on("click",function(){this.$.checked=true;k.chosed_lang=X});v.append(u);v.append(w);return{lang:x[X],code:X,radio:v}},j=[];if(R[1]==1){for(var r in i.rtl){j[j.length]=l(r,i.ltr)}for(r in i.ltr){j[j.length]=l(r,i.ltr)}j.sort(function(v,u){return u.lang>v.lang?-1:1});var h=S.getById("scayt_lcol"),g=S.getById("scayt_rcol");for(r=0;r<j.length;r++){var f=r<j.length/2?h:g;f.append(j[r].radio)}}var e={};e.dic_create=function(Y,x,w){var v=w[0]+","+w[1],u=T.err_dic_create,Z=T.succ_dic_create;window.scayt.createUserDictionary(x,function(W){z(v);A(w[1]);Z=Z.replace("%s",W.dname);B(Z)},function(W){u=u.replace("%s",W.dname);C(u+"( "+(W.message||"")+")")})};e.dic_rename=function(x,w){var v=T.err_dic_rename||"",u=T.succ_dic_rename||"";window.scayt.renameUserDictionary(w,function(X){u=u.replace("%s",X.dname);y(w);B(u)},function(X){v=v.replace("%s",X.dname);y(w);C(v+"( "+(X.message||"")+" )")})};e.dic_delete=function(Y,x,w){var v=w[0]+","+w[1],u=T.err_dic_delete,Z=T.succ_dic_delete;window.scayt.deleteUserDictionary(function(W){Z=Z.replace("%s",W.dname);z(v);A(w[0]);y("");B(Z)},function(W){u=u.replace("%s",W.dname);C(u)})};e.dic_restore=k.dic_restore||(function(Y,x,w){var v=w[0]+","+w[1],u=T.err_dic_restore,Z=T.succ_dic_restore;window.scayt.restoreUserDictionary(x,function(W){Z=Z.replace("%s",W.dname);z(v);A(w[1]);B(Z)},function(W){u=u.replace("%s",W.dname);C(u)})});function d(X){var x=S.getById("dic_name").getValue();if(!x){C(" Dictionary name should not be empty. ");return false}try{var w=id=X.data.getTarget().getParent(),v=w.getId();e[v].apply(null,[w,x,N])}catch(u){C(" Dictionary error. ")}return true}var c=(N[0]+","+N[1]).split(","),b;for(r=0,b=c.length;r<b;r+=1){var a=S.getById(c[r]);if(a){a.on("click",d,this)}}},D=function(){var g=this;if(R[0]==1){var e=L();for(var a=0,f=e.length;a<f;a++){var d=e[a].id,c=S.getById(d);if(c){e[a].checked=false;if(g.options[d]==1){e[a].checked=true}if(U){c.on("click",function(){g.options[this.getId()]=this.$.checked?1:0})}}}}if(R[1]==1){var b=S.getById("cke_option"+g.sLang);J(b.$,g.sLang)}if(O){window.scayt.getNameUserDictionary(function(i){var h=i.dname;z(N[0]+","+N[1]);if(h){S.getById("dic_name").setValue(h);A(N[1])}else{A(N[0])}},function(){S.getById("dic_name").setValue("")});B("")}};function C(a){S.getById("dic_message").setHtml('<span style="color:red;">'+a+"</span>")}function B(a){S.getById("dic_message").setHtml('<span style="color:blue;">'+a+"</span>")}function A(d){d=String(d);var b=d.split(",");for(var a=0,c=b.length;a<c;a+=1){S.getById(b[a]).$.style.display="inline"}}function z(d){d=String(d);var b=d.split(",");for(var a=0,c=b.length;a<c;a+=1){S.getById(b[a]).$.style.display="none"}}function y(a){S.getById("dic_name").$.value=a}return G});